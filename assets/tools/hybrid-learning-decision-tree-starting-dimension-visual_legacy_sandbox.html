<!DOCTYPE html>
<html>

<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Hybrid Learning Decision Tree for Starting Dimension - Visual Guide</title>

<!-- Add html2canvas and jsPDF libraries -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style type="text/css">
:root {
    --receiving-color: #5B9BD5;
    --responding-color: #4CAF50;
    --creating-color: #F9A03F;
    --assessment-primary: #8B5A96;
    --modality-color: #9C27B0;
    
    --receiving-bg: rgba(91, 155, 213, 0.1);
    --responding-bg: rgba(76, 175, 80, 0.1);
    --creating-bg: rgba(249, 160, 63, 0.1);
    --modality-bg: rgba(156, 39, 176, 0.1);
    
    --border-color: #ddd;
    --separator-color: #999;
    --light-gray: #f5f5f5;
    --medium-gray: #666;
    --dark-gray: #333;
    
    --essential-color: #2D72A5;
    --enhanced-color: #6464B4;
    --transformative-color: #37946E;
    --light-essential: rgba(45, 114, 165, 0.1);
    --light-enhanced: rgba(100, 100, 180, 0.1);
    --light-transformative: rgba(55, 148, 110, 0.1);
    --heading-color: #333333;
    --text-color: #444444;
    --background-color: #FFFFFF;
    --card-background: #F9F9F9;
    --hint-color: #777777;
    --primary-button: #5B9BD5;
    --secondary-button: #f2f2f2;
    --success-color: #4CAF50;
}

* {
    box-sizing: border-box;
}

html {
    scroll-behavior: smooth;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    font-size: 14px;
    line-height: 1.4;
    color: var(--text-color);
    background-color: #f9f9f9;
    padding: 30px;
    margin: 0;
    max-width: 1200px;
    margin: 0 auto;
}

h1 {
    font-size: 2.2em;
    color: var(--heading-color);
    margin-bottom: 20px;
    text-align: center;
    font-weight: 600;
}

h2 {
    font-size: 1.8em;
    border-bottom: 2px solid var(--primary-button);
    color: var(--heading-color);
    padding-bottom: 10px;
    margin-top: 40px;
    font-weight: 600;
}

h3 {
    font-size: 1.4em;
    color: var(--essential-color);
    margin-top: 30px;
    font-weight: 600;
}

h4 {
    font-size: 1.2em;
    color: var(--heading-color);
    font-weight: 600;
}

.intro-box {
    background: var(--receiving-bg);
    border: 2px solid var(--receiving-color);
    border-radius: 10px;
    padding: 20px;
    margin: 20px 0;
}

.decision-tree-diagram {
    background: white;
    border: 2px solid var(--essential-color);
    border-radius: 10px;
    padding: 25px;
    margin: 20px 0;
    font-family: 'Courier New', monospace;
    font-size: 12px;
    overflow-x: auto;
    white-space: pre;
    line-height: 1.3;
}

.path-section {
    background: white;
    border-radius: 10px;
    padding: 25px;
    margin: 20px 0;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    border: 1px solid var(--border-color);
}

/* Interactive Steps */
.interactive-step {
    display: none;
    animation: fadeIn 0.5s ease-in;
}

.interactive-step.active {
    display: block;
}

.step-instruction {
    text-align: center;
    font-size: 1.1em;
    color: var(--medium-gray);
    margin-bottom: 30px;
}

/* Challenge Gallery */
.challenge-gallery {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
    margin: 30px 0;
}

.challenge-option {
    background: white;
    border-radius: 15px;
    padding: 25px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    border: 3px solid transparent;
    position: relative;
    overflow: hidden;
}

.challenge-option:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

.challenge-option[data-path="technology"] {
    border-color: var(--receiving-color);
    background: linear-gradient(135deg, var(--receiving-bg), white);
}

.challenge-option[data-path="design"] {
    border-color: var(--responding-color);
    background: linear-gradient(135deg, var(--responding-bg), white);
}

.challenge-option[data-path="engagement"] {
    border-color: var(--creating-color);
    background: linear-gradient(135deg, var(--creating-bg), white);
}

.challenge-option[data-path="interest"] {
    border-color: var(--assessment-primary);
    background: linear-gradient(135deg, var(--modality-bg), white);
}

.challenge-option.selected {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
}

.challenge-option[data-path="technology"].selected {
    box-shadow: 0 8px 25px rgba(91, 155, 213, 0.3);
}

.challenge-option[data-path="design"].selected {
    box-shadow: 0 8px 25px rgba(76, 175, 80, 0.3);
}

.challenge-option[data-path="engagement"].selected {
    box-shadow: 0 8px 25px rgba(249, 160, 63, 0.3);
}

.challenge-option[data-path="interest"].selected {
    box-shadow: 0 8px 25px rgba(139, 90, 150, 0.3);
}

.challenge-icon {
    font-size: 3em;
    text-align: center;
    margin-bottom: 15px;
}

.challenge-title {
    font-weight: 600;
    font-size: 1.2em;
    margin-bottom: 15px;
    text-align: center;
    color: var(--heading-color);
}

.challenge-examples {
    margin: 15px 0;
}

.example-item {
    margin: 8px 0;
    font-style: italic;
    color: var(--medium-gray);
    font-size: 0.9em;
    padding: 5px 0;
    border-left: 3px solid transparent;
    padding-left: 10px;
}

.challenge-option[data-path="technology"] .example-item {
    border-color: var(--receiving-color);
}

.challenge-option[data-path="design"] .example-item {
    border-color: var(--responding-color);
}

.challenge-option[data-path="engagement"] .example-item {
    border-color: var(--creating-color);
}

.challenge-option[data-path="interest"] .example-item {
    border-color: var(--assessment-primary);
}

.challenge-action {
    text-align: center;
    margin-top: 20px;
    padding: 12px;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 8px;
    font-weight: 600;
    color: var(--heading-color);
    border: 2px solid transparent;
    transition: all 0.3s ease;
}

.challenge-option:hover .challenge-action {
    background: var(--heading-color);
    color: white;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

.arrow-path {
    text-align: center;
    font-size: 1.2em;
    color: var(--essential-color);
    margin: 15px 0;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    padding: 10px;
    border-radius: 5px;
}

.arrow-path:hover {
    background: var(--light-essential);
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.arrow-path a {
    color: inherit;
    text-decoration: none;
    display: block;
    width: 100%;
    height: 100%;
}

.tech-path {
    border-left: 4px solid var(--receiving-color);
    background: var(--receiving-bg);
}

.design-path {
    border-left: 4px solid var(--responding-color);
    background: var(--responding-bg);
}

.engagement-path {
    border-left: 4px solid var(--creating-color);
    background: var(--creating-bg);
}

.interest-path {
    border-left: 4px solid var(--assessment-primary);
    background: var(--modality-bg);
}

.recommendation-box {
    background: linear-gradient(135deg, var(--essential-color), var(--enhanced-color));
    color: white;
    border-radius: 10px;
    padding: 20px;
    margin: 15px 0;
}

.recommendation-title {
    font-size: 1.1em;
    font-weight: 600;
    margin-bottom: 10px;
}

.recommendation-details {
    margin: 10px 0;
}

.usage-tips {
    background: var(--light-essential);
    border: 1px solid var(--essential-color);
    border-radius: 10px;
    padding: 20px;
    margin: 20px 0;
}

.connection-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin: 20px 0;
}

.connection-item {
    background: white;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 15px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Interactive Steps */
.interactive-step {
    display: none;
    animation: fadeIn 0.5s ease-in;
}

.interactive-step.active {
    display: block;
}

.step-instruction {
    text-align: center;
    font-size: 1.1em;
    color: var(--medium-gray);
    margin-bottom: 30px;
}

/* Challenge Gallery */
.challenge-gallery {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
    margin: 30px 0;
}

.challenge-option {
    background: white;
    border-radius: 15px;
    padding: 25px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    border: 3px solid transparent;
    position: relative;
    overflow: hidden;
}

.challenge-option:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

.challenge-option[data-path="technology"] {
    border-color: var(--receiving-color);
    background: linear-gradient(135deg, var(--receiving-bg), white);
}

.challenge-option[data-path="design"] {
    border-color: var(--responding-color);
    background: linear-gradient(135deg, var(--responding-bg), white);
}

.challenge-option[data-path="engagement"] {
    border-color: var(--creating-color);
    background: linear-gradient(135deg, var(--creating-bg), white);
}

.challenge-option[data-path="interest"] {
    border-color: var(--assessment-primary);
    background: linear-gradient(135deg, var(--modality-bg), white);
}

.challenge-option.selected {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
}

.challenge-option[data-path="technology"].selected {
    box-shadow: 0 8px 25px rgba(91, 155, 213, 0.3);
}

.challenge-option[data-path="design"].selected {
    box-shadow: 0 8px 25px rgba(76, 175, 80, 0.3);
}

.challenge-option[data-path="engagement"].selected {
    box-shadow: 0 8px 25px rgba(249, 160, 63, 0.3);
}

.challenge-option[data-path="interest"].selected {
    box-shadow: 0 8px 25px rgba(139, 90, 150, 0.3);
}

.challenge-icon {
    font-size: 3em;
    text-align: center;
    margin-bottom: 15px;
}

.challenge-title {
    font-weight: 600;
    font-size: 1.2em;
    margin-bottom: 15px;
    text-align: center;
    color: var(--heading-color);
}

.challenge-examples {
    margin: 15px 0;
}

.example-item {
    margin: 8px 0;
    font-style: italic;
    color: var(--medium-gray);
    font-size: 0.9em;
    padding: 5px 0;
    border-left: 3px solid transparent;
    padding-left: 10px;
}

.challenge-option[data-path="technology"] .example-item {
    border-color: var(--receiving-color);
}

.challenge-option[data-path="design"] .example-item {
    border-color: var(--responding-color);
}

.challenge-option[data-path="engagement"] .example-item {
    border-color: var(--creating-color);
}

.challenge-option[data-path="interest"] .example-item {
    border-color: var(--assessment-primary);
}

.challenge-action {
    text-align: center;
    margin-top: 20px;
    padding: 12px;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 8px;
    font-weight: 600;
    color: var(--heading-color);
    border: 2px solid transparent;
    transition: all 0.3s ease;
}

.challenge-option:hover .challenge-action {
    background: var(--heading-color);
    color: white;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

hr {
    background: linear-gradient(to right, var(--primary-button), var(--essential-color));
    border: 0 none;
    color: transparent;
    height: 2px;
    margin: 30px 0;
    border-radius: 1px;
}

.footer {
    text-align: center;
    margin-top: 40px;
    padding-top: 20px;
    border-top: 1px solid var(--border-color);
    color: var(--hint-color);
    font-style: italic;
}

@media print {
    .export-controls {
        display: none !important;
    }
    body {
        background: white;
        margin: 0;
        padding: 20px;
    }
}

@media (max-width: 768px) {
    .decision-tree-diagram {
        font-size: 10px;
    }
    
    .connection-grid {
        grid-template-columns: 1fr;
    }
    
    .challenge-gallery {
        grid-template-columns: 1fr;
    }
}

/* Interactive Steps */
.interactive-step {
    display: none;
    animation: fadeIn 0.5s ease-in;
}

.interactive-step.active {
    display: block;
}

.step-instruction {
    text-align: center;
    font-size: 1.1em;
    color: var(--medium-gray);
    margin-bottom: 30px;
}

/* Challenge Gallery */
.challenge-gallery {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
    margin: 30px 0;
}

.challenge-option {
    background: white;
    border-radius: 15px;
    padding: 25px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    border: 3px solid transparent;
    position: relative;
    overflow: hidden;
}

.challenge-option:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

.challenge-option[data-path="technology"] {
    border-color: var(--receiving-color);
    background: linear-gradient(135deg, var(--receiving-bg), white);
}

.challenge-option[data-path="design"] {
    border-color: var(--responding-color);
    background: linear-gradient(135deg, var(--responding-bg), white);
}

.challenge-option[data-path="engagement"] {
    border-color: var(--creating-color);
    background: linear-gradient(135deg, var(--creating-bg), white);
}

.challenge-option[data-path="interest"] {
    border-color: var(--assessment-primary);
    background: linear-gradient(135deg, var(--modality-bg), white);
}

.challenge-option.selected {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
}

.challenge-option[data-path="technology"].selected {
    box-shadow: 0 8px 25px rgba(91, 155, 213, 0.3);
}

.challenge-option[data-path="design"].selected {
    box-shadow: 0 8px 25px rgba(76, 175, 80, 0.3);
}

.challenge-option[data-path="engagement"].selected {
    box-shadow: 0 8px 25px rgba(249, 160, 63, 0.3);
}

.challenge-option[data-path="interest"].selected {
    box-shadow: 0 8px 25px rgba(139, 90, 150, 0.3);
}

.challenge-icon {
    font-size: 3em;
    text-align: center;
    margin-bottom: 15px;
}

.challenge-title {
    font-weight: 600;
    font-size: 1.2em;
    margin-bottom: 15px;
    text-align: center;
    color: var(--heading-color);
}

.challenge-examples {
    margin: 15px 0;
}

.example-item {
    margin: 8px 0;
    font-style: italic;
    color: var(--medium-gray);
    font-size: 0.9em;
    padding: 5px 0;
    border-left: 3px solid transparent;
    padding-left: 10px;
}

.challenge-option[data-path="technology"] .example-item {
    border-color: var(--receiving-color);
}

.challenge-option[data-path="design"] .example-item {
    border-color: var(--responding-color);
}

.challenge-option[data-path="engagement"] .example-item {
    border-color: var(--creating-color);
}

.challenge-option[data-path="interest"] .example-item {
    border-color: var(--assessment-primary);
}

.challenge-action {
    text-align: center;
    margin-top: 20px;
    padding: 12px;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 8px;
    font-weight: 600;
    color: var(--heading-color);
    border: 2px solid transparent;
    transition: all 0.3s ease;
}

.challenge-option:hover .challenge-action {
    background: var(--heading-color);
    color: white;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Progress Indicator Styles */
.progress-container {
    background: white;
    border-radius: 10px;
    padding: 20px;
    margin: 20px 0;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    border: 1px solid var(--border-color);
}

.progress-steps {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
    gap: 10px;
}

.progress-step {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    padding: 10px;
    transition: all 0.3s ease;
}

.step-number {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    font-size: 16px;
    border: 2px solid var(--border-color);
    background: white;
    color: var(--medium-gray);
    transition: all 0.3s ease;
}

.step-label {
    font-size: 12px;
    font-weight: 500;
    color: var(--medium-gray);
    text-align: center;
}

.progress-step.active .step-number {
    background: var(--primary-button);
    border-color: var(--primary-button);
    color: white;
}

.progress-step.active .step-label {
    color: var(--primary-button);
    font-weight: 600;
}

.progress-step.current .step-number {
    animation: pulse 2s infinite;
}

.progress-line {
    width: 60px;
    height: 2px;
    background: var(--border-color);
    margin: 0 10px;
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
}

/* Navigation Controls */
.wizard-navigation {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 15px;
    margin: 30px 0;
    padding: 20px;
    background: white;
    border-radius: 10px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.nav-btn {
    padding: 12px 24px;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    font-family: inherit;
    font-size: 14px;
}

.btn-back {
    background: var(--secondary-button);
    color: var(--heading-color);
    border: 1px solid var(--border-color);
}

.btn-back:hover {
    background: var(--border-color);
    transform: translateY(-2px);
}

.btn-restart {
    background: var(--creating-color);
    color: white;
}

.btn-restart:hover {
    background: #e8900a;
    transform: translateY(-2px);
}

.btn-next {
    background: var(--primary-button);
    color: white;
}

.btn-next:hover {
    background: #4a8bc2;
    transform: translateY(-2px);
}

/* Action Plan Styles */
.action-plan-section {
    margin: 40px 0;
    animation: fadeIn 0.6s ease-in;
}

.action-plan-card {
    background: linear-gradient(135deg, #f8f9fa, #e9ecef);
    border: 2px solid var(--primary-button);
    border-radius: 15px;
    padding: 30px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.1);
}

.plan-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 25px;
    flex-wrap: wrap;
    gap: 15px;
}

.plan-header h3 {
    margin: 0;
    color: var(--primary-button);
    font-size: 1.3em;
}

.level-badge {
    padding: 8px 16px;
    border-radius: 20px;
    font-weight: 600;
    font-size: 12px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.level-essential {
    background: var(--light-essential);
    color: var(--essential-color);
    border: 2px solid var(--essential-color);
}

.level-enhanced {
    background: var(--light-enhanced);
    color: var(--enhanced-color);
    border: 2px solid var(--enhanced-color);
}

.level-compass-guided {
    background: var(--light-transformative);
    color: var(--transformative-color);
    border: 2px solid var(--transformative-color);
}

.plan-details {
    margin: 20px 0;
}

.plan-item {
    margin: 15px 0;
    padding: 15px;
    background: white;
    border-radius: 8px;
    border-left: 4px solid var(--primary-button);
}

.quick-wins-section {
    margin: 25px 0;
    padding: 20px;
    background: white;
    border-radius: 10px;
    border: 1px solid var(--border-color);
}

.quick-wins-section h4 {
    margin-top: 0;
    color: var(--creating-color);
}

.quick-wins-list {
    margin: 15px 0;
    padding-left: 20px;
}

.quick-wins-list li {
    margin: 8px 0;
    padding: 5px 0;
}

.action-buttons {
    display: flex;
    gap: 15px;
    margin-top: 30px;
    flex-wrap: wrap;
    justify-content: center;
}

.action-btn {
    padding: 12px 24px;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    font-family: inherit;
    font-size: 14px;
    min-width: 150px;
}

.action-btn.primary {
    background: var(--success-color);
    color: white;
}

.action-btn.primary:hover {
    background: #45a049;
    transform: translateY(-2px);
}

.action-btn.secondary {
    background: var(--primary-button);
    color: white;
}

.action-btn.secondary:hover {
    background: #4a8bc2;
    transform: translateY(-2px);
}

.action-btn.tertiary {
    background: var(--secondary-button);
    color: var(--heading-color);
    border: 1px solid var(--border-color);
}

.action-btn.tertiary:hover {
    background: var(--border-color);
    transform: translateY(-2px);
}

/* Enhanced recommendation box selection */
.recommendation-box {
    cursor: pointer;
    transition: all 0.3s ease;
}

.recommendation-box:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.15);
}

.recommendation-box.selected-recommendation {
    border: 3px solid var(--success-color);
    background: linear-gradient(135deg, rgba(76, 175, 80, 0.1), white);
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(76, 175, 80, 0.3);
}

/* Highlighting for active sections */
.path-section.highlighted {
    border: 2px solid var(--primary-button);
    box-shadow: 0 8px 24px rgba(91, 155, 213, 0.2);
}

@media (max-width: 768px) {
    .progress-steps {
        flex-direction: column;
        gap: 15px;
    }
    
    .progress-line {
        width: 2px;
        height: 30px;
        margin: 5px 0;
    }
    
    .wizard-navigation {
        flex-direction: column;
        gap: 10px;
    }
    
    .action-buttons {
        flex-direction: column;
    }
    
    .plan-header {
        flex-direction: column;
        align-items: flex-start;
    }
}
</style>

</head>

<body>

<!-- Export Controls -->
<div class="export-controls">
    <button class="btn-export" onclick="exportPNG()">Export as PNG</button>
    <button class="btn-export" onclick="exportPDF()">Export as PDF</button>
    <button class="btn-export btn-print" onclick="window.print()">Print Guide</button>
</div>

<!-- Main content wrapper for export -->
<div id="contentToExport">

<h1>DECISION TREE FOR STARTING DIMENSION</h1>

<div class="intro-box">
    <h3>Introduction</h3>
    <p>The Decision Tree for Starting Dimension is a practical navigation tool designed to help educators identify the most strategic entry point into hybrid teaching implementation. Based on research showing that attempting to transform all aspects of teaching simultaneously can lead to cognitive overload and implementation failure, this tool guides you to focus on one dimension initially, building confidence and competence before expanding to others.</p>
    
    <p><strong>This decision support tool helps you:</strong></p>
    <ul>
        <li>Identify your most pressing hybrid teaching challenge</li>
        <li>Connect urgent needs to specific toolkit dimensions</li>
        <li>Determine an appropriate implementation level based on your context</li>
        <li>Access targeted quick wins for immediate progress</li>
        <li>Create a sustainable development pathway</li>
    </ul>
</div>


<h2>How to Use This Tool</h2>

<div class="usage-tips">
    <ol>
        <li><strong>Start with honest reflection</strong> about your current hybrid teaching challenges</li>
        <li><strong>Follow the decision path</strong> that best matches your situation</li>
        <li><strong>Note your recommended starting dimension</strong> and implementation level</li>
        <li><strong>Access the corresponding Quick Wins Guide</strong> for immediate actions</li>
        <li><strong>Use your chosen dimension's toolkit components</strong> to begin implementation</li>
    </ol>
    
    <p><strong>Remember:</strong> There's no "wrong" starting point. The best dimension to begin with is the one that addresses your most immediate needs or strongest interests.</p>
</div>

<div id="step-1" class="interactive-step active">
    <h2>🚀 START HERE: What's Your Primary Challenge?</h2>
    <p class="step-instruction">Select the option that best describes your main challenge with hybrid teaching:</p>
    
    <div class="challenge-gallery">
        <div class="challenge-option" data-path="technology" onclick="selectChallenge('technology')">
            <div class="challenge-icon">🔧</div>
            <div class="challenge-title">Technical/Environmental Issues</div>
            <div class="challenge-examples">
                <div class="example-item">"Remote students struggle to see/hear clearly"</div>
                <div class="example-item">"Technology keeps failing during sessions"</div>
                <div class="example-item">"The classroom setup doesn't work for hybrid"</div>
                <div class="example-item">"I don't know which tools to use"</div>
            </div>
            <div class="challenge-action">Choose This Path</div>
        </div>

        <div class="challenge-option" data-path="design" onclick="selectChallenge('design')">
            <div class="challenge-icon">📚</div>
            <div class="challenge-title">Learning Design Challenges</div>
            <div class="challenge-examples">
                <div class="example-item">"Activities that work in-person fail online"</div>
                <div class="example-item">"I'm basically just lecturing to both groups"</div>
                <div class="example-item">"Assessment doesn't seem fair across modes"</div>
                <div class="example-item">"I can't create engaging hybrid activities"</div>
            </div>
            <div class="challenge-action">Choose This Path</div>
        </div>

        <div class="challenge-option" data-path="engagement" onclick="selectChallenge('engagement')">
            <div class="challenge-icon">👥</div>
            <div class="challenge-title">Engagement/Community Issues</div>
            <div class="challenge-examples">
                <div class="example-item">"Remote students are silent participants"</div>
                <div class="example-item">"I can't pay attention to both groups"</div>
                <div class="example-item">"There's no sense of class community"</div>
                <div class="example-item">"Groups don't interact with each other"</div>
            </div>
            <div class="challenge-action">Choose This Path</div>
        </div>

        <div class="challenge-option" data-path="interest" onclick="selectChallenge('interest')">
            <div class="challenge-icon">🌟</div>
            <div class="challenge-title">No Urgent Issues</div>
            <div class="challenge-examples">
                <div class="example-item">"Things work okay but could be better"</div>
                <div class="example-item">"I want to enhance my hybrid teaching"</div>
                <div class="example-item">"I'm ready to try something new"</div>
            </div>
            <div class="challenge-action">Choose This Path</div>
        </div>
    </div>
</div>

<h2 id="q2-technology-path">🔧 Q2: Technology Path</h2>

<div class="path-section tech-path">
    <h3>What's your technology comfort level?</h3>
    
    <div class="recommendation-box">
        <div class="recommendation-title">A) "I struggle with basic technology"</div>
        <div class="recommendation-details">
            <ul>
                <li>Need help with fundamental setup</li>
                <li>Often experience technical problems</li>
                <li>Limited technology available</li>
            </ul>
        </div>
        <p><strong>→ START WITH: Dimension 1 (Learning Environment & Technology) - ESSENTIAL Level</strong></p>
        <ul>
            <li>Focus: Basic reliable setup</li>
            <li>Priority: Audio quality and simple tools</li>
            <li>Next: Quick Wins Guide for Technology (Essential)</li>
        </ul>
    </div>
    
    <div class="recommendation-box">
        <div class="recommendation-title">B) "I can use technology but not optimally for hybrid"</div>
        <div class="recommendation-details">
            <ul>
                <li>Comfortable with basic tools</li>
                <li>Want to use technology more effectively</li>
                <li>Have standard hybrid classroom resources</li>
            </ul>
        </div>
        <p><strong>→ START WITH: Dimension 1 (Learning Environment & Technology) - ENHANCED Level</strong></p>
        <ul>
            <li>Focus: Optimizing your setup</li>
            <li>Priority: Dual attention tools and integration</li>
            <li>Next: Quick Wins Guide for Technology (Enhanced)</li>
        </ul>
    </div>
</div>

<h2 id="q3-learning-design-path">📚 Q3: Learning Design Path</h2>

<div class="path-section design-path">
    <h3>How much redesign are you ready for?</h3>
    
    <div class="recommendation-box">
        <div class="recommendation-title">A) "I need to adapt what I have quickly"</div>
        <div class="recommendation-details">
            <ul>
                <li>Limited time for course redesign</li>
                <li>Want to modify existing materials</li>
                <li>Need simple solutions that work</li>
            </ul>
        </div>
        <p><strong>→ START WITH: Dimension 2 (Learning Experience & Assessment Design) - ESSENTIAL Level</strong></p>
        <ul>
            <li>Focus: Adapting existing activities</li>
            <li>Priority: Clear instructions and basic equity</li>
            <li>Next: Quick Wins Guide for Learning Design (Essential)</li>
        </ul>
    </div>
    
    <div class="recommendation-box">
        <div class="recommendation-title">B) "I'm ready to redesign for hybrid specifically"</div>
        <div class="recommendation-details">
            <ul>
                <li>Can invest time in redesign</li>
                <li>Want to create hybrid-optimized experiences</li>
                <li>Interested in innovative approaches</li>
            </ul>
        </div>
        <p><strong>→ START WITH: Dimension 2 (Learning Experience & Assessment Design) - ENHANCED Level</strong></p>
        <ul>
            <li>Focus: Purpose-built hybrid activities</li>
            <li>Priority: Leveraging hybrid affordances</li>
            <li>Next: Quick Wins Guide for Learning Design (Enhanced)</li>
        </ul>
    </div>
</div>

<h2 id="q4-engagement-path">👥 Q4: Engagement Path</h2>

<div class="path-section engagement-path">
    <h3>What's the nature of the engagement problem?</h3>
    
    <div class="recommendation-box">
        <div class="recommendation-title">A) "I can't manage basic participation across groups"</div>
        <div class="recommendation-details">
            <ul>
                <li>Struggle to include remote students</li>
                <li>Difficulty tracking who's engaged</li>
                <li>Need basic facilitation strategies</li>
            </ul>
        </div>
        <p><strong>→ START WITH: Dimension 3 (Facilitation, Equity & Community Design) - ESSENTIAL Level</strong></p>
        <ul>
            <li>Focus: Basic inclusion strategies</li>
            <li>Priority: Attention management protocols</li>
            <li>Next: Quick Wins Guide for Engagement (Essential)</li>
        </ul>
    </div>
    
    <div class="recommendation-box">
        <div class="recommendation-title">B) "Participation happens but lacks connection"</div>
        <div class="recommendation-details">
            <ul>
                <li>Both groups engage separately</li>
                <li>Missing sense of unified community</li>
                <li>Want deeper interaction across modes</li>
            </ul>
        </div>
        <p><strong>→ START WITH: Dimension 3 (Facilitation, Equity & Community Design) - ENHANCED Level</strong></p>
        <ul>
            <li>Focus: Cross-modal community building</li>
            <li>Priority: Integrated engagement strategies</li>
            <li>Next: Quick Wins Guide for Engagement (Enhanced)</li>
        </ul>
    </div>
</div>

<h2 id="q5-interest-based-path">🌟 Q5: Interest-Based Path (No Urgent Issues)</h2>

<div class="path-section interest-path">
    <h3>What aspect of hybrid teaching most interests you?</h3>
    
    <div class="recommendation-box">
        <div class="recommendation-title">A) "The technology possibilities excite me"</div>
        <div class="recommendation-details">
            <ul>
                <li>Interested in new tools and platforms</li>
                <li>Want to explore innovative setups</li>
                <li>Enjoy technical experimentation</li>
            </ul>
        </div>
        <p><strong>→ START WITH: Dimension 1</strong> at your Compass-assessed readiness level</p>
        <p>Let your Hybrid Teaching Compass results guide Essential/Enhanced/Transformative choice</p>
    </div>
    
    <div class="recommendation-box">
        <div class="recommendation-title">B) "I want to innovate pedagogically"</div>
        <div class="recommendation-details">
            <ul>
                <li>Interested in new teaching methods</li>
                <li>Want to design unique learning experiences</li>
                <li>Focused on learning outcomes</li>
            </ul>
        </div>
        <p><strong>→ START WITH: Dimension 2</strong> at your Compass-assessed readiness level</p>
        <p>Let your Hybrid Teaching Compass results guide Essential/Enhanced/Transformative choice</p>
    </div>
    
    <div class="recommendation-box">
        <div class="recommendation-title">C) "Building community matters most to me"</div>
        <div class="recommendation-details">
            <ul>
                <li>Passionate about student connection</li>
                <li>Want to foster belonging for all</li>
                <li>Focused on social learning</li>
            </ul>
        </div>
        <p><strong>→ START WITH: Dimension 3</strong> at your Compass-assessed readiness level</p>
        <p>Let your Hybrid Teaching Compass results guide Essential/Enhanced/Transformative choice</p>
    </div>
</div>

<h2>🔄 Using Your Results</h2>

<div class="usage-tips">
    <p><strong>Once you've identified your starting dimension:</strong></p>
    
    <ol>
        <li><strong>Access the corresponding Quick Wins Guide</strong> for immediate implementation ideas</li>
        <li><strong>Review the Implementation Level Cards</strong> for your recommended level</li>
        <li><strong>Select 2-3 specific quick wins</strong> to implement in your next session</li>
        <li><strong>Use the dimension-specific toolkit components</strong> for deeper implementation</li>
        <li><strong>Plan to reassess</strong> after 3-4 sessions to consider expanding</li>
    </ol>
    
    <div style="background: var(--creating-bg); padding: 15px; border-radius: 8px; margin: 15px 0;">
        <strong>Remember:</strong>
        <ul>
            <li>Starting with one dimension doesn't mean ignoring others entirely</li>
            <li>You can implement basic strategies from other dimensions as needed</li>
            <li>The goal is focused improvement rather than overwhelming transformation</li>
            <li>Success in one dimension builds confidence for expanding to others</li>
        </ul>
    </div>
</div>

<h2>🔗 Connection to Other Tools</h2>

<div class="connection-grid">
    <div class="connection-item">
        <h4>🧭 Hybrid Learning Self-Assessment</h4>
        <p>For detailed readiness assessment before making decisions</p>
    </div>
    
    <div class="connection-item">
        <h4>📋 Implementation Level Cards</h4>
        <p>For understanding what each level entails</p>
    </div>
    
    <div class="connection-item">
        <h4>⚡ Quick Wins Guides</h4>
        <p>For immediate actions based on your decision</p>
    </div>
    
    <div class="connection-item">
        <h4>🛠️ Dimension-Specific Toolkits</h4>
        <p>For comprehensive implementation support</p>
    </div>
</div>

<div class="footer">
    <em>Hybrid Learning Design Toolkit | 2025 imaginary institute | Modified CC BY-SA 4.0</em>
</div>

</div>

<!-- Loading overlay -->
<div id="loadingOverlay" class="loading-overlay">
    <div class="loading-content">
        <div class="loading-spinner"></div>
        <p>Generating export... This may take a moment.</p>
    </div>
</div>

<script>
const { jsPDF } = window.jspdf;
const loadingOverlay = document.getElementById('loadingOverlay');

// Export as PNG
function exportPNG() {
    loadingOverlay.style.display = 'flex';
    
    const exportControls = document.querySelector('.export-controls');
    exportControls.style.display = 'none';
    
    const contentToExport = document.getElementById('contentToExport');
    
    html2canvas(contentToExport, {
        scale: 2,
        useCORS: true,
        allowTaint: true,
        backgroundColor: '#ffffff',
        scrollX: 0,
        scrollY: 0
    }).then(function(canvas) {
        const imgData = canvas.toDataURL('image/png');
        const link = document.createElement('a');
        link.download = 'hybrid-learning-decision-tree-starting-dimension.png';
        link.href = imgData;
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        
        exportControls.style.display = 'flex';
        loadingOverlay.style.display = 'none';
    }).catch(function(error) {
        console.error('Error generating PNG:', error);
        alert('Error generating PNG. Please try again.');
        exportControls.style.display = 'flex';
        loadingOverlay.style.display = 'none';
    });
}

// Export as PDF
function exportPDF() {
    loadingOverlay.style.display = 'flex';
    
    const exportControls = document.querySelector('.export-controls');
    exportControls.style.display = 'none';
    
    const contentToExport = document.getElementById('contentToExport');
    
    html2canvas(contentToExport, {
        scale: 2,
        useCORS: true,
        allowTaint: true,
        backgroundColor: '#ffffff',
        scrollX: 0,
        scrollY: 0
    }).then(function(canvas) {
        const canvasWidth = canvas.width;
        const canvasHeight = canvas.height;
        
        // Convert pixels to points (1 point = 1.33 pixels approximately)
        const pdfWidth = canvasWidth * 0.75;
        const pdfHeight = canvasHeight * 0.75;
        
        // Create PDF with custom dimensions to fit content
        const pdf = new jsPDF({
            orientation: 'portrait',
            unit: 'pt',
            format: [pdfWidth, pdfHeight]
        });
        
        const imgData = canvas.toDataURL('image/png');
        pdf.addImage(imgData, 'PNG', 0, 0, pdfWidth, pdfHeight);
        pdf.save('hybrid-learning-decision-tree-starting-dimension.pdf');
        
        exportControls.style.display = 'flex';
        loadingOverlay.style.display = 'none';
    }).catch(function(error) {
        console.error('Error generating PDF:', error);
        alert('Error generating PDF. Please try again.');
        exportControls.style.display = 'flex';
        loadingOverlay.style.display = 'none';
    });
}

// Add keyboard shortcuts
document.addEventListener('keydown', function(event) {
    if ((event.ctrlKey || event.metaKey) && event.key === 'p') {
        event.preventDefault();
        window.print();
    }
    if ((event.ctrlKey || event.metaKey) && event.key === 's') {
        event.preventDefault();
        exportPNG();
    }
    if ((event.ctrlKey || event.metaKey) && event.shiftKey && event.key === 'S') {
        event.preventDefault();
        exportPDF();
    }
});

// Multi-Step Wizard State Management
let wizardState = {
    currentStep: 1,
    totalSteps: 3,
    selectedChallenge: null,
    selectedSubOption: null,
    recommendation: null,
    progressData: {}
};

// Load saved progress from localStorage
function loadProgress() {
    const saved = localStorage.getItem('hybrid-decision-tree-progress');
    if (saved) {
        try {
            const savedData = JSON.parse(saved);
            wizardState = { ...wizardState, ...savedData };
        } catch (e) {
            console.log('No valid saved progress found');
        }
    }
}

// Save progress to localStorage
function saveProgress() {
    localStorage.setItem('hybrid-decision-tree-progress', JSON.stringify(wizardState));
}

// Add progress indicator
function addProgressIndicator() {
    const progressHTML = `
        <div class="progress-container" id="progressContainer">
            <div class="progress-steps">
                <div class="progress-step active" data-step="1">
                    <div class="step-number">1</div>
                    <div class="step-label">Choose Challenge</div>
                </div>
                <div class="progress-line"></div>
                <div class="progress-step" data-step="2">
                    <div class="step-number">2</div>
                    <div class="step-label">Get Recommendation</div>
                </div>
                <div class="progress-line"></div>
                <div class="progress-step" data-step="3">
                    <div class="step-number">3</div>
                    <div class="step-label">Action Plan</div>
                </div>
            </div>
        </div>
    `;
    
    const mainTitle = document.querySelector('h1');
    mainTitle.insertAdjacentHTML('afterend', progressHTML);
}

// Update progress indicator
function updateProgressIndicator() {
    const steps = document.querySelectorAll('.progress-step');
    steps.forEach((step, index) => {
        const stepNumber = index + 1;
        if (stepNumber <= wizardState.currentStep) {
            step.classList.add('active');
            step.classList.remove('upcoming');
        } else {
            step.classList.remove('active');
            step.classList.add('upcoming');
        }
        
        if (stepNumber === wizardState.currentStep) {
            step.classList.add('current');
        } else {
            step.classList.remove('current');
        }
    });
}

// Add navigation controls
function addNavigationControls() {
    const navHTML = `
        <div class="wizard-navigation" id="wizardNavigation">
            <button class="nav-btn btn-back" onclick="goBack()" id="backBtn" style="display: none;">
                ← Previous Step
            </button>
            <button class="nav-btn btn-restart" onclick="restartWizard()">
                🔄 Start Over
            </button>
            <button class="nav-btn btn-next" onclick="goNext()" id="nextBtn" style="display: none;">
                Next Step →
            </button>
        </div>
    `;
    
    const challengeGallery = document.querySelector('.challenge-gallery');
    challengeGallery.insertAdjacentHTML('afterend', navHTML);
}

// Challenge selection with enhanced interactivity
function selectChallenge(challengePath, saveState = true) {
    // Remove previous selections
    document.querySelectorAll('.challenge-option').forEach(card => {
        card.classList.remove('selected');
    });
    
    // Select current card
    const selectedCard = document.querySelector(`[data-path="${challengePath}"]`);
    if (selectedCard) {
        selectedCard.classList.add('selected');
        
        // Add selection feedback
        selectedCard.style.transform = 'translateY(-5px) scale(1.02)';
        setTimeout(() => {
            selectedCard.style.transform = 'translateY(-5px)';
        }, 200);
    }
    
    // Update wizard state
    wizardState.selectedChallenge = challengePath;
    wizardState.currentStep = 2;
    
    if (saveState) {
        saveProgress();
    }
    
    // Show relevant path section with smooth transition
    setTimeout(() => {
        navigateToPath(challengePath);
        updateProgressIndicator();
        updateNavigationButtons();
    }, 300);
}

// Navigate to specific path and show sub-option selection
function navigateToPath(challengePath) {
    // Hide previous content sections
    document.getElementById('step-1').style.display = 'none';
    document.querySelectorAll('.path-section').forEach(section => {
        section.style.display = 'none';
        section.classList.remove('highlighted');
    });
    
    // Create and show sub-option selection step
    showSubOptionSelection(challengePath);
}

// Show sub-option selection as cards
function showSubOptionSelection(challengePath) {
    // Remove any existing sub-option step
    const existingStep = document.getElementById('step-2-suboptions');
    if (existingStep) {
        existingStep.remove();
    }
    
    const subOptionData = getSubOptionData(challengePath);
    
    const subOptionHTML = `
        <div id="step-2-suboptions" class="interactive-step active">
            <h2>${subOptionData.title}</h2>
            <p class="step-instruction">${subOptionData.instruction}</p>
            
            <div class="challenge-gallery">
                ${subOptionData.options.map((option, index) => `
                    <div class="challenge-option sub-option-card" data-option="${index}" data-challenge="${challengePath}" onclick="selectSubOptionCard(${index}, '${challengePath}')">
                        <div class="challenge-icon">${option.icon}</div>
                        <div class="challenge-title">${option.title}</div>
                        <div class="challenge-examples">
                            ${option.details.map(detail => `<div class="example-item">${detail}</div>`).join('')}
                        </div>
                        <div class="challenge-action">Choose This Option</div>
                    </div>
                `).join('')}
            </div>
        </div>
    `;
    
    // Insert after navigation controls
    const navControls = document.getElementById('wizardNavigation');
    navControls.insertAdjacentHTML('afterend', subOptionHTML);
    
    // Scroll to the new step
    setTimeout(() => {
        document.getElementById('step-2-suboptions').scrollIntoView({ 
            behavior: 'smooth', 
            block: 'start' 
        });
    }, 100);
}

// Get sub-option data for each challenge path
function getSubOptionData(challengePath) {
    const data = {
        technology: {
            title: "🔧 Technology Path: What's Your Comfort Level?",
            instruction: "Choose the option that best describes your current technology situation:",
            options: [
                {
                    icon: "🆘",
                    title: "I struggle with basic technology",
                    details: [
                        "Need help with fundamental setup",
                        "Often experience technical problems", 
                        "Limited technology available"
                    ]
                },
                {
                    icon: "⚡",
                    title: "I can use technology but not optimally for hybrid", 
                    details: [
                        "Comfortable with basic tools",
                        "Want to use technology more effectively",
                        "Have standard hybrid classroom resources"
                    ]
                }
            ]
        },
        design: {
            title: "📚 Learning Design Path: How Much Change Are You Ready For?",
            instruction: "Select your current situation and readiness level:",
            options: [
                {
                    icon: "🔄",
                    title: "I need to adapt what I have quickly",
                    details: [
                        "Limited time for course redesign",
                        "Want to modify existing materials",
                        "Need simple solutions that work"
                    ]
                },
                {
                    icon: "🚀",
                    title: "I'm ready to redesign for hybrid specifically",
                    details: [
                        "Can invest time in redesign",
                        "Want to create hybrid-optimized experiences",
                        "Interested in innovative approaches"
                    ]
                }
            ]
        },
        engagement: {
            title: "👥 Engagement Path: What's the Core Issue?",
            instruction: "Identify your main engagement challenge:",
            options: [
                {
                    icon: "📋",
                    title: "I can't manage basic participation across groups",
                    details: [
                        "Struggle to include remote students",
                        "Difficulty tracking who's engaged", 
                        "Need basic facilitation strategies"
                    ]
                },
                {
                    icon: "🤝",
                    title: "Participation happens but lacks connection",
                    details: [
                        "Both groups engage separately",
                        "Missing sense of unified community",
                        "Want deeper interaction across modes"
                    ]
                }
            ]
        },
        interest: {
            title: "🌟 Interest-Based Path: What Excites You Most?",
            instruction: "Since you don't have urgent issues, what aspect interests you most?",
            options: [
                {
                    icon: "🔧",
                    title: "Technology possibilities excite me",
                    details: [
                        "Interested in new tools and platforms",
                        "Want to explore innovative setups",
                        "Enjoy technical experimentation"
                    ]
                },
                {
                    icon: "🎓",
                    title: "I want to innovate pedagogically",
                    details: [
                        "Interested in new teaching methods",
                        "Want to design unique learning experiences",
                        "Focused on learning outcomes"
                    ]
                },
                {
                    icon: "💫",
                    title: "Building community matters most to me",
                    details: [
                        "Passionate about student connection",
                        "Want to foster belonging for all",
                        "Focused on social learning"
                    ]
                }
            ]
        }
    };
    
    return data[challengePath];
}

// Handle sub-option card selection
function selectSubOptionCard(optionIndex, challengePath) {
    // Remove previous selections
    document.querySelectorAll('.sub-option-card').forEach(card => {
        card.classList.remove('selected');
    });
    
    // Select current card
    const selectedCard = document.querySelector(`[data-option="${optionIndex}"][data-challenge="${challengePath}"]`);
    if (selectedCard) {
        selectedCard.classList.add('selected');
        
        // Add selection feedback
        selectedCard.style.transform = 'translateY(-5px) scale(1.02)';
        setTimeout(() => {
            selectedCard.style.transform = 'translateY(-5px)';
        }, 200);
    }
    
    // Update wizard state
    wizardState.selectedSubOption = optionIndex;
    wizardState.currentStep = 3;
    
    // Generate recommendation
    generateRecommendation(challengePath, optionIndex);
    
    saveProgress();
    updateProgressIndicator();
    updateNavigationButtons();
    
    // Hide sub-option selection and show action plan
    setTimeout(() => {
        document.getElementById('step-2-suboptions').style.display = 'none';
        showActionPlan();
    }, 500);
}

// Handle sub-option selection (A, B, C choices)
function selectSubOption(option, challengePath) {
    wizardState.selectedSubOption = option;
    wizardState.currentStep = 3;
    
    // Generate personalized recommendation
    generateRecommendation(challengePath, option);
    
    // Highlight selected recommendation
    const recommendationBoxes = document.querySelectorAll('.recommendation-box');
    recommendationBoxes.forEach((box, index) => {
        if (index === option) {
            box.classList.add('selected-recommendation');
            box.scrollIntoView({ behavior: 'smooth', block: 'center' });
        } else {
            box.classList.remove('selected-recommendation');
        }
    });
    
    saveProgress();
    updateProgressIndicator();
    updateNavigationButtons();
    
    // Show action plan section
    setTimeout(() => {
        showActionPlan();
    }, 1000);
}

// Generate personalized recommendation
function generateRecommendation(challengePath, optionIndex) {
    const recommendations = {
        technology: [
            {
                dimension: "Dimension 1 (Learning Environment & Technology)",
                level: "ESSENTIAL",
                focus: "Basic reliable setup",
                priority: "Audio quality and simple tools",
                quickWins: ["Test audio setup before each session", "Use simple, reliable tools", "Create technology backup plan"],
                timeFrame: "1-2 weeks"
            },
            {
                dimension: "Dimension 1 (Learning Environment & Technology)",
                level: "ENHANCED",
                focus: "Optimizing your setup",
                priority: "Dual attention tools and integration",
                quickWins: ["Implement dual-screen setup", "Use interactive polling tools", "Create seamless tool integration"],
                timeFrame: "2-4 weeks"
            }
        ],
        design: [
            {
                dimension: "Dimension 2 (Learning Experience & Assessment Design)",
                level: "ESSENTIAL",
                focus: "Adapting existing activities",
                priority: "Clear instructions and basic equity",
                quickWins: ["Create mode-specific instructions", "Use breakout rooms effectively", "Implement fair assessment practices"],
                timeFrame: "2-3 weeks"
            },
            {
                dimension: "Dimension 2 (Learning Experience & Assessment Design)",
                level: "ENHANCED",
                focus: "Purpose-built hybrid activities",
                priority: "Leveraging hybrid affordances",
                quickWins: ["Design hybrid-specific activities", "Create cross-modal collaboration", "Implement innovative assessments"],
                timeFrame: "4-6 weeks"
            }
        ],
        engagement: [
            {
                dimension: "Dimension 3 (Facilitation, Equity & Community Design)",
                level: "ESSENTIAL",
                focus: "Basic inclusion strategies",
                priority: "Attention management protocols",
                quickWins: ["Use name-based calling", "Implement rotation systems", "Create participation expectations"],
                timeFrame: "1-2 weeks"
            },
            {
                dimension: "Dimension 3 (Facilitation, Equity & Community Design)",
                level: "ENHANCED",
                focus: "Cross-modal community building",
                priority: "Integrated engagement strategies",
                quickWins: ["Create mixed-mode teams", "Use shared digital spaces", "Implement community rituals"],
                timeFrame: "3-4 weeks"
            }
        ],
        interest: [
            {
                dimension: "Your Self-Assessment Results",
                level: "COMPASS-GUIDED",
                focus: "Technology possibilities",
                priority: "Innovation and experimentation",
                quickWins: ["Explore new hybrid tools", "Test innovative setups", "Document experiments"],
                timeFrame: "Ongoing"
            },
            {
                dimension: "Your Self-Assessment Results", 
                level: "COMPASS-GUIDED",
                focus: "Pedagogical innovation",
                priority: "Learning outcomes",
                quickWins: ["Design unique experiences", "Test new methods", "Measure learning impact"],
                timeFrame: "Ongoing"
            },
            {
                dimension: "Your Self-Assessment Results",
                level: "COMPASS-GUIDED", 
                focus: "Community building",
                priority: "Social learning",
                quickWins: ["Foster belonging", "Create connections", "Build community rituals"],
                timeFrame: "Ongoing"
            }
        ]
    };
    
    wizardState.recommendation = recommendations[challengePath][optionIndex] || recommendations[challengePath][0];
}

// Show personalized action plan
function showActionPlan() {
    if (!wizardState.recommendation) return;
    
    const actionPlanHTML = `
        <div class="action-plan-section" id="actionPlan">
            <h2>🎯 Your Personalized Action Plan</h2>
            <div class="action-plan-card">
                <div class="plan-header">
                    <h3>${wizardState.recommendation.dimension}</h3>
                    <div class="level-badge level-${wizardState.recommendation.level.toLowerCase()}">${wizardState.recommendation.level}</div>
                </div>
                
                <div class="plan-details">
                    <div class="plan-item">
                        <strong>🎯 Focus Area:</strong> ${wizardState.recommendation.focus}
                    </div>
                    <div class="plan-item">
                        <strong>⭐ Priority:</strong> ${wizardState.recommendation.priority}
                    </div>
                    <div class="plan-item">
                        <strong>⏰ Expected Timeframe:</strong> ${wizardState.recommendation.timeFrame}
                    </div>
                </div>
                
                <div class="quick-wins-section">
                    <h4>⚡ Your Next Quick Wins:</h4>
                    <ul class="quick-wins-list">
                        ${wizardState.recommendation.quickWins.map(win => `<li>${win}</li>`).join('')}
                    </ul>
                </div>
                
                <div class="action-buttons">
                    <button class="action-btn primary" onclick="exportPersonalizedPlan()">
                        📥 Export Your Plan
                    </button>
                    <button class="action-btn secondary" onclick="shareProgress()">
                        📤 Share Progress
                    </button>
                    <button class="action-btn tertiary" onclick="restartWizard()">
                        🔄 Try Different Path
                    </button>
                </div>
            </div>
        </div>
    `;
    
    // Insert action plan after the current path section
    const currentPathSection = document.querySelector('.path-section[style*="display: block"]');
    if (currentPathSection) {
        currentPathSection.insertAdjacentHTML('afterend', actionPlanHTML);
        
        // Smooth scroll to action plan
        setTimeout(() => {
            document.getElementById('actionPlan').scrollIntoView({ 
                behavior: 'smooth', 
                block: 'start' 
            });
        }, 100);
    }
}

// Navigation functions
function goBack() {
    if (wizardState.currentStep > 1) {
        wizardState.currentStep--;
        
        if (wizardState.currentStep === 1) {
            // Go back to challenge selection
            wizardState.selectedChallenge = null;
            wizardState.selectedSubOption = null;
            wizardState.recommendation = null;
            
            // Hide all path sections
            document.querySelectorAll('.path-section').forEach(section => {
                section.style.display = 'none';
            });
            
            // Remove action plan
            const actionPlan = document.getElementById('actionPlan');
            if (actionPlan) actionPlan.remove();
            
            // Scroll back to challenge gallery
            document.querySelector('.challenge-gallery').scrollIntoView({ 
                behavior: 'smooth', 
                block: 'start' 
            });
        }
        
        saveProgress();
        updateProgressIndicator();
        updateNavigationButtons();
    }
}

function goNext() {
    if (wizardState.selectedChallenge && wizardState.currentStep === 2) {
        // Auto-advance is handled by sub-option selection
        const firstRecommendation = document.querySelector('.recommendation-box');
        if (firstRecommendation) {
            firstRecommendation.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
    }
}

function restartWizard() {
    // Clear all state
    wizardState = {
        currentStep: 1,
        totalSteps: 3,
        selectedChallenge: null,
        selectedSubOption: null,
        recommendation: null,
        progressData: {}
    };
    
    // Clear localStorage
    localStorage.removeItem('hybrid-decision-tree-progress');
    
    // Reset UI
    document.querySelectorAll('.challenge-option').forEach(card => {
        card.classList.remove('selected');
    });
    
    document.querySelectorAll('.path-section').forEach(section => {
        section.style.display = 'none';
        section.classList.remove('highlighted');
    });
    
    const actionPlan = document.getElementById('actionPlan');
    if (actionPlan) actionPlan.remove();
    
    // Update progress and navigation
    updateProgressIndicator();
    updateNavigationButtons();
    
    // Scroll to top
    document.querySelector('h1').scrollIntoView({ behavior: 'smooth', block: 'start' });
}

function updateNavigationButtons() {
    const backBtn = document.getElementById('backBtn');
    const nextBtn = document.getElementById('nextBtn');
    
    // Show/hide back button
    if (wizardState.currentStep > 1) {
        backBtn.style.display = 'inline-block';
    } else {
        backBtn.style.display = 'none';
    }
    
    // Show/hide next button  
    if (wizardState.currentStep === 2 && wizardState.selectedChallenge) {
        nextBtn.style.display = 'inline-block';
    } else {
        nextBtn.style.display = 'none';
    }
}

// Smart features
function exportPersonalizedPlan() {
    if (!wizardState.recommendation) return;
    
    const planContent = `
HYBRID LEARNING ACTION PLAN
Generated: ${new Date().toLocaleDateString()}

🎯 RECOMMENDED STARTING POINT:
${wizardState.recommendation.dimension} - ${wizardState.recommendation.level} Level

📍 FOCUS AREA: ${wizardState.recommendation.focus}
⭐ PRIORITY: ${wizardState.recommendation.priority}
⏰ TIMEFRAME: ${wizardState.recommendation.timeFrame}

⚡ QUICK WINS TO IMPLEMENT:
${wizardState.recommendation.quickWins.map((win, i) => `${i + 1}. ${win}`).join('\n')}

📝 NEXT STEPS:
1. Review the ${wizardState.recommendation.dimension} toolkit components
2. Select 2-3 quick wins to implement this week
3. Plan your first hybrid session using these strategies
4. Assess progress after 2-3 sessions
5. Consider expanding to additional dimensions

🔗 HELPFUL RESOURCES:
- Quick Wins Guide for your chosen dimension
- Implementation Level Cards
- Hybrid Learning Self-Assessment Tool
- Dimension-specific toolkit components
    `;
    
    // Create and download text file
    const blob = new Blob([planContent], { type: 'text/plain' });
    const url = URL.createObjectURL(blob);
    const link = document.createElement('a');
    link.href = url;
    link.download = 'hybrid-learning-action-plan.txt';
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
    URL.revokeObjectURL(url);
}

function shareProgress() {
    if (!wizardState.recommendation) return;
    
    const shareText = `I just completed the Hybrid Learning Decision Tree and got my personalized action plan! My recommended starting point: ${wizardState.recommendation.dimension} - ${wizardState.recommendation.level} Level. Focus: ${wizardState.recommendation.focus}`;
    
    if (navigator.share) {
        navigator.share({
            title: 'My Hybrid Learning Action Plan',
            text: shareText,
            url: window.location.href
        });
    } else {
        // Fallback: copy to clipboard
        navigator.clipboard.writeText(shareText).then(() => {
            alert('Progress copied to clipboard!');
        });
    }
}

// Add click handlers for recommendation boxes
document.addEventListener('click', function(e) {
    if (e.target.closest('.recommendation-box')) {
        const recommendationBox = e.target.closest('.recommendation-box');
        const allBoxes = document.querySelectorAll('.recommendation-box');
        const boxIndex = Array.from(allBoxes).indexOf(recommendationBox);
        
        if (wizardState.selectedChallenge && boxIndex !== -1) {
            selectSubOption(boxIndex, wizardState.selectedChallenge);
        }
    }
});

// Initialize wizard on page load
document.addEventListener('DOMContentLoaded', function() {
    loadProgress();
    updateProgressIndicator();
    
    // Hide all sections initially except step 1
    document.querySelectorAll('.path-section').forEach(section => {
        section.style.display = 'none';
    });
    
    // Add progress indicator if it doesn't exist
    if (!document.querySelector('.progress-container')) {
        addProgressIndicator();
    }
    
    // Add navigation controls
    addNavigationControls();
    
    // If we have saved progress, restore state
    if (wizardState.selectedChallenge) {
        selectChallenge(wizardState.selectedChallenge, false);
    }
});

// Add wizard keyboard shortcuts
document.addEventListener('keydown', function(event) {
    // Wizard keyboard shortcuts
    if (event.key === 'ArrowLeft' && event.altKey) {
        event.preventDefault();
        goBack();
    }
    if (event.key === 'ArrowRight' && event.altKey) {
        event.preventDefault();
        goNext();
    }
    if (event.key === 'Escape') {
        event.preventDefault();
        restartWizard();
    }
});
</script>

</body>

</html> 
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hybrid Learning Implementation Levels Cards</title>
    <!-- Add html2canvas and jsPDF libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        :root {
            --essential-color: #4DB6AC;
            --enhanced-color: #26A69A;
            --transformative-color: #00695C;
            --dimension1-color: #FF5722;
            --dimension2-color: #3F51B5;
            --dimension3-color: #9C27B0;
            --border-color: #ddd;
            --separator-color: #999;
            --light-gray: #f5f5f5;
            --dark-gray: #333;
            --medium-gray: #666;
        
            --card-width: 900px;
            --side-width: calc(var(--card-width) / 2);
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.4;
            color: #333;
            background-color: #f9f9f9;
            padding: 20px;
        }

        .controls {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 20px;
            gap: 20px;
        }

        .card-selector {
            padding: 10px;
            font-size: 16px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            background: white;
            min-width: 300px;
        }

        .nav-button {
            padding: 10px 20px;
            background-color: var(--enhanced-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }

        .nav-button:hover {
            background-color: #1976D2;
        }

        .nav-button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        .batch-controls {
            display: flex;
            gap: 10px;
            align-items: center;
            border-left: 2px solid #ddd;
            padding-left: 20px;
            margin-left: 20px;
        }

        .batch-label {
            font-weight: bold;
            color: #555;
        }

        .btn-batch {
            background-color: var(--transformative-color);
        }

        .btn-batch:hover:not(:disabled) {
            background-color: #7B1FA2;
        }

        .progress-container {
            display: none;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            margin-top: 20px;
            padding: 20px;
            background-color: #f0f4f8;
            border-radius: 5px;
            border: 1px solid #ddd;
        }

        .progress-bar {
            width: 300px;
            height: 20px;
            background-color: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--enhanced-color);
            width: 0%;
            transition: width 0.3s ease;
        }

        .progress-text {
            font-weight: bold;
            color: #555;
        }

        .card-display {
            display: flex;
            justify-content: center;
        }
        
        .card-container {
            width: var(--card-width);
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            display: flex;
            overflow: hidden;
            position: relative;
            border: 1px solid var(--border-color);
            min-height: 600px;
        }
        
        .card-side {
            width: var(--side-width);
            height: 100%;
            position: relative;
            overflow: hidden;
        }
        
        .card-side-right {
            border-left: 1px dotted var(--separator-color);
        }

        .card-side-left {
            display: flex;
            flex-direction: column;
        }
        
        .card-header {
            height: 60px;
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            position: relative;
        }
        
        .level-icon {
            background-color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            font-size: 18px;
            margin: 0 5px;
        }
        
        .dimension-label {
            background-color: white;
            color: var(--dark-gray);
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .card-content {
            padding: 20px;
            display: flex;
            flex-direction: column;
            flex-grow: 1;
        }
        
        .card-title {
            font-size: 26px;
            font-weight: 600;
            color: var(--dark-gray);
            margin-bottom: 10px;
            line-height: 1.2;
        }
        
        .level-type {
            font-size: 16px;
            font-weight: 500;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .section {
            margin-bottom: 20px;
        }
        
        .section-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--dark-gray);
        }
        
        .content-list {
            list-style: none;
            padding: 0;
        }
        
        .content-list li {
            font-size: 14px;
            line-height: 1.5;
            margin-bottom: 8px;
            padding-left: 15px;
            position: relative;
        }
        
        .content-list li:before {
            content: "•";
            color: var(--enhanced-color);
            font-weight: bold;
            position: absolute;
            left: 0;
        }
        
        .when-to-choose {
            background-color: #f8f9fa;
            border-left: 4px solid var(--enhanced-color);
            padding: 15px;
            border-radius: 0 5px 5px 0;
            margin: 15px 0;
        }
        
        .when-to-choose-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--dark-gray);
        }
        
        .card-side-right {
            display: flex;
            flex-direction: column;
            padding: 20px;
        }
        
        .requirements-section, .success-section, .tips-section {
            margin-bottom: 20px;
        }
        
        .requirements-list, .success-list, .tips-list {
            list-style: none;
            padding: 0;
        }
        
        .requirements-list li, .success-list li, .tips-list li {
            font-size: 14px;
            line-height: 1.5;
            margin-bottom: 8px;
            padding-left: 15px;
            position: relative;
        }
        
        .requirements-list li:before {
            content: "⚙";
            position: absolute;
            left: 0;
        }
        
        .success-list li:before {
            content: "•";
            color: var(--essential-color);
            font-weight: bold;
            position: absolute;
            left: 0;
        }
        
        .tips-list li:before {
            content: "💡";
            position: absolute;
            left: 0;
        }
        
        .next-steps {
            background-color: #e8f5e8;
            border: 1px solid var(--essential-color);
            border-radius: 5px;
            padding: 15px;
            margin-top: auto;
        }
        
        .next-steps-title {
            font-weight: 600;
            color: var(--essential-color);
            margin-bottom: 8px;
        }
        
        .next-steps-text {
            font-size: 14px;
            line-height: 1.4;
        }
        
        /* Loading overlay for export operations */
        .loading-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            color: white;
        }

        .spinner {
            border: 5px solid #f3f3f3;
            border-top: 5px solid var(--enhanced-color);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 2s linear infinite;
            margin-bottom: 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Print styles for clean PDF export */
        @media print {
            body {
                background-color: white;
                padding: 0;
            }
            
            .controls {
                display: none;
            }
            
            .card-display {
                margin: 0;
            }
            
            .card-container {
                box-shadow: none;
                border: 2px solid var(--border-color);
                page-break-inside: avoid;
            }
        }
    </style>
</head>
<body>
    <div class="controls">
        <button class="nav-button" onclick="previousCard()">← Previous</button>
        
        <select class="card-selector" id="cardSelector" onchange="selectCard()">
            <!-- General Implementation Levels -->
            <option value="0">General: Essential Implementation Level</option>
            <option value="1">General: Enhanced Implementation Level</option>
            <option value="2">General: Transformative Implementation Level</option>
            <!-- Dimension 1: Learning Environment & Technology -->
            <option value="3">Dimension 1: Essential - Learning Environment & Technology</option>
            <option value="4">Dimension 1: Enhanced - Learning Environment & Technology</option>
            <option value="5">Dimension 1: Transformative - Learning Environment & Technology</option>
            <!-- Dimension 2: Learning Experience & Assessment Design -->
            <option value="6">Dimension 2: Essential - Learning Experience & Assessment</option>
            <option value="7">Dimension 2: Enhanced - Learning Experience & Assessment</option>
            <option value="8">Dimension 2: Transformative - Learning Experience & Assessment</option>
            <!-- Dimension 3: Facilitation, Equity & Community Design -->
            <option value="9">Dimension 3: Essential - Facilitation, Equity & Community</option>
            <option value="10">Dimension 3: Enhanced - Facilitation, Equity & Community</option>
            <option value="11">Dimension 3: Transformative - Facilitation, Equity & Community</option>
        </select>
        
        <button class="nav-button" onclick="nextCard()">Next →</button>
        
        <button class="nav-button" onclick="exportPNG()" style="background-color: #2196F3;">Export PNG</button>
        <button class="nav-button" onclick="exportPDF()" style="background-color: #FF9800;">Export PDF</button>
        
        <div class="batch-controls">
            <span class="batch-label">Batch Export:</span>
            <button class="nav-button btn-batch" onclick="batchExportPNG()">All PNG</button>
            <button class="nav-button btn-batch" onclick="batchExportPDF()">All PDF</button>
            <button class="nav-button btn-batch" onclick="batchExportBoth()">All PNG + PDF</button>
        </div>
    </div>

    <div class="progress-container" id="progressContainer">
        <div class="progress-text" id="progressText">Preparing export...</div>
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>
        <div style="font-size: 12px; color: #666;" id="progressDetails">This may take a few moments...</div>
    </div>

    <div class="card-display">
        <div class="card-container" id="cardContainer">
            <!-- Card content will be populated by JavaScript -->
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="spinner"></div>
        <p>Generating export... This may take a moment.</p>
    </div>

    <script>
        // Card data - All 12 Implementation Level Cards
        const cardData = [
            // GENERAL IMPLEMENTATION LEVELS (3 cards)
            
            // Card 1: General Essential
            {
                id: "general-essential",
                title: "Essential Implementation Level",
                level: "Essential",
                levelIcon: "E",
                dimension: "General",
                color: "essential",
                left: {
                    characteristics: [
                        "Foundation-building approach to hybrid learning",
                        "Basic adaptation of existing teaching approaches", 
                        "Straightforward use of reliable technology",
                        "Focus on ensuring fundamental functionality"
                    ],
                    whenToChoose: [
                        "You're new to hybrid teaching",
                        "You have limited preparation time",
                        "Basic technology is available",
                        "You seek confidence and reliability", 
                        "You need a strong foundation to build upon"
                    ]
                },
                right: {
                    requirements: [
                        "1-3 hours planning time per activity",
                        "Familiarity with basic digital tools",
                        "Minimal technical support may be needed",
                        "Focus on core learning outcomes"
                    ],
                    successIndicators: [
                        "All students can access learning materials",
                        "Basic communication flows between all participants",
                    
                        "Technology issues do not significantly disrupt learning"
                    ],
                    nextSteps: "Once you've successfully implemented the Essential level, consider incorporating selected Enhanced elements in areas where you feel most confident."
                }
            },
            
            // Card 2: General Enhanced  
            {
                id: "general-enhanced",
                title: "Enhanced Implementation Level",
                level: "Enhanced",
                levelIcon: "N",
                dimension: "General",
                color: "enhanced",
                left: {
                    characteristics: [
                        "Intentional integration of modalities",
                        "Moderate redesign of existing approaches",
                        "Thoughtful use of readily available technology",
                        "Strategic balance of attention across spaces"
                    ],
                    whenToChoose: [
                        "You have some hybrid teaching experience",
                        "You can commit moderate planning time",
                        "Standard hybrid technology is available",
                        "You seek meaningful improvement",
                        "You want to optimize the hybrid experience"
                    ]
                },
                right: {
                    requirements: [
                        "5-10 hours planning time per activity",
                        "Willingness to learn specific new tools",
                        "Basic hybrid classroom setup",
                        "Some comfort with managing dual attention"
                    ],
                    successIndicators: [
                        "Equivalent learning experiences across modalities",
                        "Active engagement from both in-person and remote students",
                        "Intentional use of technology to enhance learning",
                        "Smooth transitions between activities and spaces"
                    ],
                    nextSteps: "As you become comfortable with Enhanced implementation, experiment with Transformative elements in specific activities where innovation would add significant value."
                }
            },
            
            // Card 3: General Transformative
            {
                id: "general-transformative", 
                title: "Transformative Implementation Level",
                level: "Transformative",
                levelIcon: "T",
                dimension: "General",
                color: "transformative",
                left: {
                    characteristics: [
                        "Innovative reimagining of learning experiences",
                        "Complete redesign leveraging hybrid affordances",
                        "Integration of advanced technological capabilities", 
                        "Creation of unique hybrid-enabled experiences"
                    ],
                    whenToChoose: [
                        "You have extensive hybrid teaching experience",
                        "You can invest significant design time",
                        "Advanced technology is available",
                        "You seek innovative approaches",
                        "You want to maximize hybrid potential"
                    ]
                },
                right: {
                    requirements: [
                        "10+ hours planning time per activity",
                        "Comfort with various digital tools and platforms",
                        "Advanced hybrid classroom setup",
                        "Strong dual-modality facilitation skills"
                    ],
                    successIndicators: [
                        "Learning experiences that would be impossible in single mode",
                        "Seamless integration of physical and virtual spaces",
                        "Students leverage unique affordances of both modalities",
                        "Technology becomes seamlessly integrated into the experience"
                    ],
                    nextSteps: "Document your innovations and share with colleagues. Consider mentoring others beginning their hybrid teaching journey."
                }
            },
            
            // DIMENSION 1: LEARNING ENVIRONMENT & TECHNOLOGY (3 cards)
            
            // Card 4: Dimension 1 Essential
            {
                id: "d1-essential",
                title: "Learning Environment & Technology",
                level: "Essential",
                levelIcon: "E",
                dimension: "Dimension 1",
                color: "dimension1",
                left: {
                    characteristics: [
                        "Basic audio and video connectivity",
                        "Simple technology setup",
                        "Standard classroom layout",
                        "Minimal technical requirements for students"
                    ],
                    elements: [
                        "Single camera and microphone setup",
                        "Core platform for communication (e.g., Zoom, Teams)",
                        "Basic screen sharing capability",
                        "Essential visibility of all participants"
                    ]
                },
                right: {
                    examples: [
                        "Laptop webcam and built-in microphone",
                        "Single display showing remote participants",
                        "Default platform settings",
                        "Simple troubleshooting protocols"
                    ],
                    tips: [
                        "Test your setup 15 minutes before each session",
                        "Keep a backup plan for common tech issues",
                        "Position camera at eye level",
                        "Ensure good lighting on your face"
                    ]
                }
            },
            
            // Card 5: Dimension 1 Enhanced
            {
                id: "d1-enhanced",
                title: "Learning Environment & Technology", 
                level: "Enhanced",
                levelIcon: "N",
                dimension: "Dimension 1",
                color: "dimension1",
                left: {
                    characteristics: [
                        "Intentional physical-digital space integration",
                        "Multiple audio/visual inputs",
                        "Thoughtful room setup for hybrid interaction",
                        "Deliberate platform configuration"
                    ],
                    elements: [
                        "Dedicated camera for instructor and student views",
                        "Multiple microphones or room-coverage system",
                        "Dual displays for content and people",
                        "Digital backchannel integration",
                        "Predefined layouts for different activities"
                    ]
                },
                right: {
                    examples: [
                        "Room layout optimized for camera visibility",
                        "Display positioning for eye contact with remote students",
                        "Hand-raising protocols across physical-digital spaces",
                        "[nice to have] Room coordinator role for technology management"
                    ],
                    tips: [
                        "Create activity-specific room configurations",
                        "Assign a student as 'tech assistant' each session",
                        "Use consistent camera positions for predictability",
                        "Label all equipment clearly"
                    ]
                }
            },
            
            // Card 6: Dimension 1 Transformative
            {
                id: "d1-transformative",
                title: "Learning Environment & Technology",
                level: "Transformative", 
                levelIcon: "T",
                dimension: "Dimension 1",
                color: "dimension1",
                left: {
                    characteristics: [
                        "Seamless integration of physical and virtual spaces",
                        "Advanced technical capabilities",
                        "Flexible, adaptive environment",
                        "Multi-modal interaction channels"
                    ],
                    elements: [
                        "Multiple camera angles with automatic switching",
                        "Spatial audio systems",
                        "Interactive digital-physical tools",
                        "Advanced platform customization", 
                       
                    ]
                },
                right: {
                    examples: [
                        "Tracking cameras that follow active speakers",
                        "Digital whiteboard accessible to all participants",
                        "Remote-controlled camera angles",
                        "Integrated polling and response systems",
                        "Immersive telepresence options",
                        "Mixed reality elements"
                    ],
                    tips: [
                        "Document your setup for consistency",
                        "Pre-train students on advanced features",
                        "Have dedicated tech support available",
                        "Create custom presets for different activities"
                    ]
                }
            },
            
            // DIMENSION 2: LEARNING EXPERIENCE & ASSESSMENT DESIGN (3 cards)
            
            // Card 7: Dimension 2 Essential
            {
                id: "d2-essential",
                title: "Learning Experience & Assessment Design",
                level: "Essential",
                levelIcon: "E", 
                dimension: "Dimension 2",
                color: "dimension2",
                left: {
                    characteristics: [
                        "Basic adaptation of existing activities",
                        "Simple, reliable assessment methods",
                        "Clear instructions for both modalities",
                        "Focus on core learning outcomes"
                    ],
                    elements: [
                        "Modified activity instructions for hybrid context",
                        "Equivalent participation opportunities",
                        "Basic assessment equity considerations",
                        "Simple feedback mechanisms"
                    ]
                },
                right: {
                    examples: [
                        "Turn-taking protocols for discussions",
                        "Digital handouts accessible to all",
                        "Basic online quiz or assignment submission",
                        "Clear verbal and written instructions",
                        "Planned pauses to check remote student understanding"
                    ],
                    tips: [
                        "Write instructions assuming no prior hybrid experience",
                        "Always verbalize what you're doing physically",
                        "Build in extra time for technical transitions",
                        "Use consistent patterns for activities"
                    ]
                }
            },
            
            // Card 8: Dimension 2 Enhanced
            {
                id: "d2-enhanced",
                title: "Learning Experience & Assessment Design",
                level: "Enhanced",
                levelIcon: "N",
                dimension: "Dimension 2", 
                color: "dimension2",
                left: {
                    characteristics: [
                        "Redesigned activities optimized for hybrid",
                        "Intentional teaching presence distribution",
                        "Structured facilitation techniques",
                        "Integrated formative assessment"
                    ],
                    elements: [
                        "Activities leveraging both physical and digital spaces",
                        "Strategic attention management",
                        "Mixed-modality group formations",
                        "Multimodal assessment options",
                        "Deliberate cognitive load management"
                    ]
                },
                right: {
                    examples: [
                        "Concurrent digital and physical artifacts",
                        "Rotating attention protocol with signaling",
                        "Digital backchannel integration into discussions",
                        "Mixed in-person/remote student groups",
                        "Choice-based assessment submissions"
                    ],
                    tips: [
                        "Design activities that require cross-modal collaboration",
                        "Use timers to manage attention distribution",
                        "Create clear role descriptions for group work",
                        "Offer multiple ways to demonstrate learning"
                    ]
                }
            },
            
            // Card 9: Dimension 2 Transformative
            {
                id: "d2-transformative",
                title: "Learning Experience & Assessment Design",
                level: "Transformative",
                levelIcon: "T",
                dimension: "Dimension 2",
                color: "dimension2", 
                left: {
                    characteristics: [
                        "Completely reimagined learning experiences",
                        "Innovative hybrid pedagogical approaches",
                        "Seamless activity transitions across modalities",
                        "Novel assessment methods leveraging hybridity"
                    ],
                    elements: [
                        "Activities only possible in hybrid environment",
                        "Dynamic role distribution across spaces",
                        "Immersive learning experiences",
                        "Authentic assessment leveraging digital-physical interaction",
                        "Adaptive teaching based on real-time feedback"
                    ]
                },
                right: {
                    examples: [
                        "Remote experts as integral participants",
                        "Simultaneous physical-digital simulations",
                        "Multi-location collaborative problem-solving",
                        "Integrated physical and digital artifact creation",
                        "Digital-physical assessment environments"
                    ],
                    tips: [
                        "Start with pilot activities before full implementation",
                        "Document successful innovations for replication",
                        "Build in reflection time for continuous improvement",
                        "Share innovations with teaching community"
                    ]
                }
            },
            
            // DIMENSION 3: FACILITATION, EQUITY & COMMUNITY DESIGN (3 cards)
            
            // Card 10: Dimension 3 Essential
            {
                id: "d3-essential",
                title: "Facilitation, Equity & Community Design",
                level: "Essential",
                levelIcon: "E",
                dimension: "Dimension 3",
                color: "dimension3",
                left: {
                    characteristics: [
                        "Basic inclusion of all participants",
                        "Simple engagement techniques",
                        "Clear communication channels",
                        "Focus on equitable participation"
                    ],
                    elements: [
                        "Structured participation opportunities",
                        "Explicit acknowledgment of all students",
                        "Basic community-building activities",
                        "Clear engagement expectations"
                    ]
                },
                right: {
                    examples: [
                        "Round-robin response patterns",
                        "Regular check-ins with remote participants",
                        "Name usage for all students",
                        "Simple icebreakers adapted for hybrid",
                        "Visible participation tracking"
                    ],
                    tips: [
                        "Keep a visible list of all students",
                        "Alternate between calling on remote/in-person students",
                        "Use names frequently to build connection",
                        "Start each session with a quick check-in"
                    ]
                }
            },
            
            // Card 11: Dimension 3 Enhanced
            {
                id: "d3-enhanced",
                title: "Facilitation, Equity & Community Design",
                level: "Enhanced", 
                levelIcon: "N",
                dimension: "Dimension 3",
                color: "dimension3",
                left: {
                    characteristics: [
                        "Strategic engagement across modalities",
                        "Intentional community development",
                        "Balanced attention to all participants",
                        "Active monitoring of engagement patterns"
                    ],
                    elements: [
                        "Mixed-modality interaction techniques",
                        "Cross-modal relationship building",
                        "Multiple participation channels",
                        "Group identity formation strategies",
                        "Engagement recovery techniques"
                    ]
                },
                right: {
                    examples: [
                        "Digital backchannel monitored and integrated",
                        "Cross-modal paired activities",
                        "Mixed in-person/remote teams with defined roles",
                        "Visual cues for attention direction",
                        "Regular mode-switching to balance engagement"
                    ],
                    tips: [
                        "Assign 'buddies' across modalities",
                        "Use visual signals for attention management",
                        "Create team names that span locations",
                        "Monitor chat actively with designated helper"
                    ]
                }
            },
            
            // Card 12: Dimension 3 Transformative
            {
                id: "d3-transformative",
                title: "Facilitation, Equity & Community Design",
                level: "Transformative",
                levelIcon: "T", 
                dimension: "Dimension 3",
                color: "dimension3",
                left: {
                    characteristics: [
                        "Innovative engagement approaches",
                        "Seamless community across physical-virtual boundaries",
                        "Student-driven interaction patterns",
                        "Dynamic participation flows"
                    ],
                    elements: [
                        "Novel community-building approaches",
                        "Fluid role distribution across modalities",
                        "Multiple simultaneous engagement channels",
                        "Student leadership across spaces",
                        "Boundary-crossing activities"
                    ]
                },
                right: {
                    examples: [
                        "Students facilitating across modalities",
                        "Digital-physical collaborative spaces",
                        "Real-time engagement visualization",
                        "Dynamic group reconfiguration",
                        "Immersive shared experiences",
                        "Community extended beyond class sessions"
                    ],
                    tips: [
                        "Rotate student leadership roles regularly",
                        "Create persistent digital community spaces",
                        "Use data to inform engagement strategies",
                        "Design activities that blur location boundaries"
                    ]
                }
            }
        ];

        let currentCardIndex = 0;

        function renderCard(cardIndex) {
            const card = cardData[cardIndex];
            const container = document.getElementById('cardContainer');
            
            // Set color variables
            const colorVar = `--${card.color}-color`;
            
            // Build left side content
            let leftContent = '';
            if (card.left.characteristics) {
                leftContent += `
                    <div class="section">
                        <h3 class="section-title">Characteristics:</h3>
                        <ul class="content-list">
                            ${card.left.characteristics.map(item => `<li>${item}</li>`).join('')}
                        </ul>
                    </div>`;
            }
            
            if (card.left.whenToChoose) {
                leftContent += `
                    <div class="when-to-choose">
                        <div class="when-to-choose-title">When to Choose:</div>
                        <ul class="content-list">
                            ${card.left.whenToChoose.map(item => `<li>${item}</li>`).join('')}
                        </ul>
                    </div>`;
            }
            
            if (card.left.elements) {
                leftContent += `
                    <div class="section">
                        <h3 class="section-title">Key Elements:</h3>
                        <ul class="content-list">
                            ${card.left.elements.map(item => `<li>${item}</li>`).join('')}
                        </ul>
                    </div>`;
            }
            
            // Build right side content
            let rightContent = '';
            if (card.right.requirements) {
                rightContent += `
                    <div class="requirements-section">
                        <h3 class="section-title">Key Requirements:</h3>
                        <ul class="requirements-list">
                            ${card.right.requirements.map(item => `<li>${item}</li>`).join('')}
                        </ul>
                    </div>`;
            }
            
            if (card.right.examples) {
                rightContent += `
                    <div class="requirements-section">
                        <h3 class="section-title">Implementation Examples:</h3>
                        <ul class="requirements-list">
                            ${card.right.examples.map(item => `<li>${item}</li>`).join('')}
                        </ul>
                    </div>`;
            }
            
            if (card.right.successIndicators) {
                rightContent += `
                    <div class="success-section">
                        <h3 class="section-title">Success Indicators:</h3>
                        <ul class="success-list">
                            ${card.right.successIndicators.map(item => `<li>${item}</li>`).join('')}
                        </ul>
                    </div>`;
            }
            
            if (card.right.tips) {
                rightContent += `
                    <div class="tips-section">
                        <h3 class="section-title">Practical Tips:</h3>
                        <ul class="tips-list">
                            ${card.right.tips.map(item => `<li>${item}</li>`).join('')}
                        </ul>
                    </div>`;
            }
            
            if (card.right.nextSteps) {
                rightContent += `
                    <div class="next-steps">
                        <div class="next-steps-title">Next Steps:</div>
                        <div class="next-steps-text">${card.right.nextSteps}</div>
                    </div>`;
            }
            
            container.innerHTML = `
                <!-- Left Side -->
                <div class="card-side card-side-left">
                    <div class="card-header" style="background-color: var(${colorVar});">
                        <div class="level-icon" style="color: var(${colorVar});">${card.levelIcon}</div>
                        <div class="dimension-label">${card.dimension}</div>
                    </div>
                    
                    <div class="card-content">
                        <h2 class="card-title">${card.title}</h2>
                        <div class="level-type" style="color: var(${colorVar});">${card.level} Implementation</div>
                        ${leftContent}
                    </div>
                </div>
                
                <!-- Right Side -->
                <div class="card-side card-side-right">
                    ${rightContent}
                </div>
            `;
        }

        function selectCard() {
            const selector = document.getElementById('cardSelector');
            currentCardIndex = parseInt(selector.value);
            renderCard(currentCardIndex);
            updateNavButtons();
        }

        function previousCard() {
            if (currentCardIndex > 0) {
                currentCardIndex--;
                document.getElementById('cardSelector').value = currentCardIndex;
                renderCard(currentCardIndex);
                updateNavButtons();
            }
        }

        function nextCard() {
            if (currentCardIndex < cardData.length - 1) {
                currentCardIndex++;
                document.getElementById('cardSelector').value = currentCardIndex;
                renderCard(currentCardIndex);
                updateNavButtons();
            }
        }

        function updateNavButtons() {
            const prevBtn = document.querySelector('.nav-button');
            const nextBtn = document.querySelector('.nav-button:nth-child(3)');
            
            prevBtn.disabled = currentCardIndex === 0;
            nextBtn.disabled = currentCardIndex === cardData.length - 1;
        }

        // Export functions - identical to activity cards
        const { jsPDF } = window.jspdf;
        const loadingOverlay = document.getElementById('loadingOverlay');
        
        function renderCardTemporary(cardIndex) {
            const originalIndex = currentCardIndex;
            currentCardIndex = cardIndex;
            renderCard(cardIndex);
            return originalIndex;
        }
        
        function restoreCard(originalIndex) {
            currentCardIndex = originalIndex;
            renderCard(originalIndex);
            document.getElementById('cardSelector').value = originalIndex;
            updateNavButtons();
        }
        
        function exportSingleCardPNG(cardIndex) {
            return new Promise((resolve, reject) => {
                const card = cardData[cardIndex];
                const filename = `${card.id}-implementation-card.png`;
                const cardContainer = document.getElementById('cardContainer');
                
                html2canvas(cardContainer, {
                    scale: 2,
                    useCORS: true,
                    allowTaint: true,
                    backgroundColor: '#ffffff'
                }).then(function(canvas) {
                    const imgData = canvas.toDataURL('image/png');
                    const link = document.createElement('a');
                    link.download = filename;
                    link.href = imgData;
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                    resolve(filename);
                }).catch(reject);
            });
        }
        
        function exportSingleCardPDF(cardIndex) {
            return new Promise((resolve, reject) => {
                const card = cardData[cardIndex];
                const filename = `${card.id}-implementation-card.pdf`;
                const cardContainer = document.getElementById('cardContainer');
                
                html2canvas(cardContainer, {
                    scale: 2,
                    useCORS: true,
                    allowTaint: true,
                    backgroundColor: '#ffffff'
                }).then(function(canvas) {
                    const canvasWidth = canvas.width;
                    const canvasHeight = canvas.height;
                    const pdfWidth = canvasWidth * 0.75;
                    const pdfHeight = canvasHeight * 0.75;
                    const orientation = pdfWidth > pdfHeight ? 'landscape' : 'portrait';
                    
                    const pdf = new jsPDF({
                        orientation: orientation,
                        unit: 'pt',
                        format: [pdfWidth, pdfHeight]
                    });
                    
                    const imgData = canvas.toDataURL('image/png');
                    pdf.addImage(imgData, 'PNG', 0, 0, pdfWidth, pdfHeight);
                    pdf.save(filename);
                    resolve(filename);
                }).catch(reject);
            });
        }
        
        function updateProgress(current, total, currentCard, action) {
            const progressContainer = document.getElementById('progressContainer');
            const progressFill = document.getElementById('progressFill');
            const progressText = document.getElementById('progressText');
            const progressDetails = document.getElementById('progressDetails');
            
            const percentage = (current / total) * 100;
            progressFill.style.width = percentage + '%';
            progressText.textContent = `Exporting ${current} of ${total} cards...`;
            progressDetails.textContent = `Currently processing: ${currentCard} (${action})`;
        }
        
        function showProgress() {
            document.getElementById('progressContainer').style.display = 'flex';
            const buttons = document.querySelectorAll('.nav-button');
            buttons.forEach(btn => btn.disabled = true);
        }
        
        function hideProgress() {
            document.getElementById('progressContainer').style.display = 'none';
            const buttons = document.querySelectorAll('.nav-button');
            buttons.forEach(btn => btn.disabled = false);
            updateNavButtons();
        }
        
        async function batchExportPNG() {
            showProgress();
            const originalIndex = currentCardIndex;
            const totalCards = cardData.length;
            let successCount = 0;
            let failCount = 0;
            
            try {
                for (let i = 0; i < totalCards; i++) {
                    const card = cardData[i];
                    updateProgress(i + 1, totalCards, card.title, 'PNG');
                    
                    renderCardTemporary(i);
                    await new Promise(resolve => setTimeout(resolve, 100));
                    
                    try {
                        await exportSingleCardPNG(i);
                        successCount++;
                    } catch (error) {
                        console.error(`Failed to export ${card.title} as PNG:`, error);
                        failCount++;
                    }
                }
                
                restoreCard(originalIndex);
                alert(`Batch PNG export complete!\nSuccess: ${successCount}\nFailed: ${failCount}`);
                
            } catch (error) {
                console.error('Batch PNG export error:', error);
                alert('Batch export encountered an error. Check console for details.');
                restoreCard(originalIndex);
            } finally {
                hideProgress();
            }
        }
        
        async function batchExportPDF() {
            showProgress();
            const originalIndex = currentCardIndex;
            const totalCards = cardData.length;
            let successCount = 0;
            let failCount = 0;
            
            try {
                for (let i = 0; i < totalCards; i++) {
                    const card = cardData[i];
                    updateProgress(i + 1, totalCards, card.title, 'PDF');
                    
                    renderCardTemporary(i);
                    await new Promise(resolve => setTimeout(resolve, 100));
                    
                    try {
                        await exportSingleCardPDF(i);
                        successCount++;
                    } catch (error) {
                        console.error(`Failed to export ${card.title} as PDF:`, error);
                        failCount++;
                    }
                }
                
                restoreCard(originalIndex);
                alert(`Batch PDF export complete!\nSuccess: ${successCount}\nFailed: ${failCount}`);
                
            } catch (error) {
                console.error('Batch PDF export error:', error);
                alert('Batch export encountered an error. Check console for details.');
                restoreCard(originalIndex);
            } finally {
                hideProgress();
            }
        }
        
        async function batchExportBoth() {
            showProgress();
            const originalIndex = currentCardIndex;
            const totalCards = cardData.length;
            const totalExports = totalCards * 2;
            let successCount = 0;
            let failCount = 0;
            let currentExport = 0;
            
            try {
                for (let i = 0; i < totalCards; i++) {
                    const card = cardData[i];
                    renderCardTemporary(i);
                    
                    currentExport++;
                    updateProgress(currentExport, totalExports, card.title, 'PNG');
                    await new Promise(resolve => setTimeout(resolve, 100));
                    
                    try {
                        await exportSingleCardPNG(i);
                        successCount++;
                    } catch (error) {
                        console.error(`Failed to export ${card.title} as PNG:`, error);
                        failCount++;
                    }
                    
                    currentExport++;
                    updateProgress(currentExport, totalExports, card.title, 'PDF');
                    await new Promise(resolve => setTimeout(resolve, 100));
                    
                    try {
                        await exportSingleCardPDF(i);
                        successCount++;
                    } catch (error) {
                        console.error(`Failed to export ${card.title} as PDF:`, error);
                        failCount++;
                    }
                }
                
                restoreCard(originalIndex);
                alert(`Batch PNG + PDF export complete!\nSuccess: ${successCount}\nFailed: ${failCount}`);
                
            } catch (error) {
                console.error('Batch export error:', error);
                alert('Batch export encountered an error. Check console for details.');
                restoreCard(originalIndex);
            } finally {
                hideProgress();
            }
        }
        
        function exportPNG() {
            loadingOverlay.style.display = 'flex';
            const controls = document.querySelector('.controls');
            controls.style.display = 'none';
            
            const currentCard = cardData[currentCardIndex];
            const filename = `${currentCard.id}-implementation-card.png`;
            const cardContainer = document.getElementById('cardContainer');
            
            html2canvas(cardContainer, {
                scale: 2,
                useCORS: true,
                allowTaint: true,
                backgroundColor: '#ffffff'
            }).then(function(canvas) {
                const imgData = canvas.toDataURL('image/png');
                const link = document.createElement('a');
                link.download = filename;
                link.href = imgData;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                controls.style.display = 'flex';
                loadingOverlay.style.display = 'none';
            }).catch(function(error) {
                console.error('Error generating PNG:', error);
                alert('Error generating PNG. Please try again.');
                controls.style.display = 'flex';
                loadingOverlay.style.display = 'none';
            });
        }
        
        function exportPDF() {
            loadingOverlay.style.display = 'flex';
            const controls = document.querySelector('.controls');
            controls.style.display = 'none';
            
            const currentCard = cardData[currentCardIndex];
            const filename = `${currentCard.id}-implementation-card.pdf`;
            const cardContainer = document.getElementById('cardContainer');
            
            html2canvas(cardContainer, {
                scale: 2,
                useCORS: true,
                allowTaint: true,
                backgroundColor: '#ffffff'
            }).then(function(canvas) {
                const canvasWidth = canvas.width;
                const canvasHeight = canvas.height;
                const pdfWidth = canvasWidth * 0.75;
                const pdfHeight = canvasHeight * 0.75;
                const orientation = pdfWidth > pdfHeight ? 'landscape' : 'portrait';
                
                const pdf = new jsPDF({
                    orientation: orientation,
                    unit: 'pt',
                    format: [pdfWidth, pdfHeight]
                });
                
                const imgData = canvas.toDataURL('image/png');
                pdf.addImage(imgData, 'PNG', 0, 0, pdfWidth, pdfHeight);
                pdf.save(filename);
                
                controls.style.display = 'flex';
                loadingOverlay.style.display = 'none';
            }).catch(function(error) {
                console.error('Error generating PDF:', error);
                alert('Error generating PDF. Please try again.');
                controls.style.display = 'flex';
                loadingOverlay.style.display = 'none';
            });
        }

        // Initialize
        renderCard(0);
        updateNavButtons();
    </script>
</body>
</html> 